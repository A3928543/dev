<!-- $Id: CapturaBeneficiarios.html,v 1.10 2008/02/22 18:25:09 ccovian Exp $ -->
<html jwcid="$content$">
<head jwcid="$remove$">
    <title>Encabezado</title>
    <link rel="StyleSheet" href="css/ixe.css">
</head>
<body jwcid="@PageBorder">

  <table border="0" cellpadding="0" cellspacing="10" width="100%">
  <tr>
  	<th colspan="2">
  	 <div align="center">
  		<span jwcid="@bup:ShowError" delegate="ognl:beans.delegate" insertBreakAtTail="yes" />
 	 </div>
 	</th>
  </tr>
  <tr valign="top">
  	<td width="250">
  		
  	   	<table jwcid="@ActionPortletBorder" title='ognl: "Captura de Beneficiarios "' width="100%">
        	<fieldset class="normal">
	       		 <span jwcid="@Insert" value="ognl: nombreCliente" raw="yes" />
			</fieldset>
     	</table>
    	&nbsp;
    	
       	<span jwcid="@Conditional" condition='ognl: @com.ixe.ods.sica.pages.deals.plantillas.EdicionPlantillaIntl@PAGINA_MIGRACION_PLANTILLAS.equals(paginaAnterior)'>
			<table jwcid="@ActionPortletBorder" title='ognl: "Nombre del Beneficiario"' width="100%">
        		<fieldset class="normal">
	       			 <span jwcid="@Insert" value="ognl: mapaEdicionPlantilla.beneficiario" raw="yes" />
				</fieldset>
	     	</table>
    	</span>	
    	&nbsp;
    	
  		<table jwcid="@ActionPortletBorder" title="B&uacute;squeda de Beneficiarios" width="100%">
		<form jwcid="@Form" listener="ognl: listeners.busquedaBeneficiarios" delegate="ognl: beans.delegate" >
            <fieldset class="normal">
               <legend class="legend">Por cuenta IXE</legend>
			    	 No. de Cuenta:<br />
			   		 <input jwcid="@ixe:UppercaseTextField" maxLength="80" size="40" class="uppercase" value="ognl: cuentaIxe"/>
           </fieldset> 
			<fieldset class="normal">
		    	<legend class="legend">Empresas</legend>
			    	 Raz&oacute;n Social:<br />
			   		 <input jwcid="@ixe:UppercaseTextField" maxLength="80" size="40" class="uppercase" value="ognl: razonSocial"/>
			</fieldset>
		    <fieldset class="normal">
		    	<legend class="legend">Personas</legend>
			    	Apellido Paterno:<br />
			       		<input jwcid="@ixe:UppercaseTextField" maxLength="80" size="40" class="uppercase" value="ognl: paterno"/><br>
		   			Apellido Materno:<br />
		   				<input jwcid="@ixe:UppercaseTextField" maxLength="80" size="40" class="uppercase" value="ognl: materno"/><br>
		   		    Nombre(s):<br />
	     				<input jwcid="@ixe:UppercaseTextField" maxLength="80" size="40" class="uppercase" value="ognl: nombre"/><br>
		   </fieldset>
  			&nbsp;
	       <div align="center">
	       	    <span jwcid="@contrib:FormConditional" condition='ognl: !@com.ixe.ods.sica.pages.deals.plantillas.EdicionPlantillaIntl@PAGINA_MIGRACION_PLANTILLAS.equals(paginaAnterior)'>
					<input jwcid="@ImageSubmit" image="ognl: assets.searchButton" onclick="return fnDisableForm(this.form);" />
	       		</span>
	           	<span jwcid="@contrib:FormConditional" condition='ognl: @com.ixe.ods.sica.pages.deals.plantillas.EdicionPlantillaIntl@PAGINA_MIGRACION_PLANTILLAS.equals(paginaAnterior)'>
					<input jwcid="@ImageSubmit" image="ognl: assets.searchButton" onclick="return fnDisableForm(this.form);" />
	       			<a jwcid="@PageLink" page="ognl: paginaAnterior" onClick="fnShowWaitImage();"><img jwcid="@Image" image="ognl: assets.cancelButton"/></a>
	        	</span>
	       </div>
		</form>		     
		</table>
  	</td>
	<td>
	  	<span jwcid="@Conditional" condition="ognl: resultadoBusqueda">
	  		<table jwcid="@ActionPortletBorder" title='ognl: "Resultados de la B&uacute;squeda"'>
                <span jwcid="@Conditional" condition="ognl: listaResultados">
       				<table jwcid="@TableBorder" title="ognl: null" subtitles='ognl: {"Nombre", "N\u00fam. Ref.", "&nbsp;"}' columnCount="3" width="100%" >
               			<tr jwcid="forBusquedaBeneficiarios@Foreach" source="ognl: listaResultados" element="tr" class="ognl: beans.evenOdd.next" >
                	    	<td class="normal" align="left"><span jwcid="@Insert" value="ognl: components.forBusquedaBeneficiarios.value.nombreCorto" raw="yes" /></td>
                            <td class="normal" align="center"><span jwcid="@DatosClaveReferencia" idPersona="ognl: components.forBusquedaBeneficiarios.value.idPersona" prefijo ="ognl: components.forBusquedaBeneficiarios.value.idPersona" /></td>
                            <td class="normal" align="left"><a jwcid="@DirectLink" listener="ognl:listeners.asignar" parameters="ognl: components.forBusquedaBeneficiarios.value.idPersona" onClick="fnShowWaitImage();">Asignar</a></td>
      					</tr>
					</table>
			 	</span>
	  		 	<span jwcid="@Conditional" condition="ognl: listaResultadosCuenta">
       				<table jwcid="@TableBorder" title="ognl: null" subtitles='ognl: {"Nombre", "No. Cuenta", "N\u00fam. Ref.", "&nbsp;"}' columnCount="3" width="100%" >
               			<tr jwcid="forBusquedaBeneficiariosCuenta@Foreach" source="ognl: listaResultadosCuenta" element="tr" class="ognl: beans.evenOdd.next" >
                	    	<td class="normal" align="left"><span jwcid="@Insert" value="ognl: components.forBusquedaBeneficiariosCuenta.value.id.persona.nombreCorto" raw="yes" /></td>
                            <td class="normal" align="left"><span jwcid="@Insert" value="ognl: components.forBusquedaBeneficiariosCuenta.value.id.cuenta.noCuenta" raw="yes" /></td>
                            <td class="normal" align="center"><span jwcid="@DatosClaveReferencia" idPersona="ognl: components.forBusquedaBeneficiariosCuenta.value.id.persona.idPersona" prefijo ="ognl: components.forBusquedaBeneficiariosCuenta.value.id.persona.idPersona" /></td>
                		    <td class="normal" align="left"><a jwcid="@DirectLink" listener="ognl:listeners.asignar" parameters="ognl: components.forBusquedaBeneficiariosCuenta.value.id.persona.idPersona" onClick="fnShowWaitImage();">Asignar</a></td>
      					</tr>
					</table>
			 	</span>
      			<tr>
      			<td>
      				<table align="center">
      					<tr>
      						<td>
								<form jwcid="@Form" listener="ognl: listeners.agregar" delegate="ognl:beans.delegate">
      							<fieldset class="normal">
		    						<legend class="legend">Agregar Beneficiario</legend>
		    							<table>
		    								<tr>
		    									<td class="normal" align="right">Tipo Persona:</td> 
			    	 							<td align="left"><select jwcid="@PropertySelection" model="ognl: comboTiposPersona" value="ognl: fisicaOMoral" onChange="fnShowWaitImage();this.form.submit();" /></td>
			    							</tr>
			    							<span jwcid="@contrib:FormConditional" condition='ognl: "FISICA".equals(fisicaOMoral)'>	
											<tr>
												<td class="normal" align="right">Nombre:</td>
												<td align="left"><input jwcid="@ixe:UppercaseTextField" maxLength="80" size="30" class="uppercase" value="ognl: nombre"/></td>
										 	</tr>
									 		<tr>
			    								<td class="normal" align="right">Apellido Paterno:</td>
				        						<td align="left"><input jwcid="@ixe:UppercaseTextField" maxLength="80" size="30" class="uppercase" value="ognl: paterno"/></td>
				        					</tr>
				        					<tr>
												<td class="normal" align="right">Apellido Materno:</td>
												<td align="left"><input jwcid="@ixe:UppercaseTextField" maxLength="80" size="30" class="uppercase" value="ognl: materno"/></td>
											</tr>
											</span>
											<span jwcid="@contrib:FormConditional" condition='ognl: "MORAL".equals(fisicaOMoral)' >
	        									<tr>
	        										<td class="normal" align="rigth">Raz&oacute;n Social:</td>
	        										<td align="left"><input jwcid="@ixe:UppercaseTextField" maxLength="80" size="30" class="uppercase" value="ognl: razonSocial"/></td>
				    		    				</tr>
				    		    			</span>	
			    		    			</table>
    				    		</fieldset>
								&nbsp;
								<div align="center">
    	    	   					<input jwcid="@ImageSubmit" image="ognl: assets.addButton" selected="ognl: modoSubmit" tag="1" accesskey="A" onClick="fnShowWaitImage();"/>
        							<a jwcid="@PageLink" page="ognl: paginaAnterior" onClick="fnShowWaitImage();"><img jwcid="@Image" image="ognl: assets.cancelButton"/></a>
	        					</div>
				 				</form>
				 			</td>
				 		</tr>
				 	</table>
	        	</td>
      		</tr>
       	</table>
       	&nbsp;
   	    &nbsp;
   	    </span>
	    <span jwcid="@Conditional" condition='ognl: !"MigracionPlantillas".equals(paginaAnterior)'>
		   	<span jwcid="@Conditional" condition="ognl: beneficiarios.size() &gt; 0">
        		<table jwcid="@ActionPortletBorder" title='ognl: "Beneficiarios " + nombreCliente'>
     	    		<table jwcid="@TableBorder" title="ognl: null" subtitles='ognl: { "Nombre" }' columnCount="1" width="100%">
           	    		<tr jwcid="forBeneficiarios@Foreach" source="ognl: beneficiarios" element="tr" class="ognl: beans.evenOdd.next">
               	    		<td class="normal" align="center"><span jwcid="@Insert" value="ognl: components.forBeneficiarios.value.nombre" raw="yes" /></td>
	                	</tr>
    		        </table>
   	    		</table>
    		</span>
    	</span>
    	
    	<span jwcid="@Conditional" condition='ognl: "MigracionPlantillas".equals(paginaAnterior)'>
				<table jwcid="@ActionPortletBorder" title='ognl: "Beneficiarios " + nombreCliente'>
     	    		<table jwcid="@TableBorder" title="ognl: null" subtitles='ognl: { "Nombre","" }' columnCount="2" width="100%">
           	    		<tr element="tr" class="normalcell">
               	    		<td class="normal" align="left"><span jwcid="@Insert" value="ognl: personaMigPlant.nombreCorto" raw="yes" /></td>
	               		    <td class="normal" align="left"><a jwcid="@DirectLink" listener="ognl:listeners.asignarBeneficiarioExistente" parameters="ognl: personaMigPlant.idPersona" onClick="fnShowWaitImage();"> Asignar </a></td>
           	    		</tr>
           				<span jwcid="@Conditional" condition="ognl: beneficiarios.size() &gt; 0">
        	    		<tr jwcid="forBeneficiariosMigPlnt@Foreach" source="ognl: beneficiarios" element="tr" class="ognl: beans.evenOdd.next">
               	    		<td class="normal" align="left"><span jwcid="@Insert" value="ognl: components.forBeneficiariosMigPlnt.value.nombre" raw="yes" /></td>
	               		    <td class="normal" align="left"><a jwcid="@DirectLink" listener="ognl:listeners.asignarBeneficiarioExistente" parameters="ognl: components.forBeneficiariosMigPlnt.value.idPersona" onClick="fnShowWaitImage();"> Asignar </a></td>
      	            	</tr>
      	           		</span>
    		        </table>
   	    		</table>
    	</span>	
    	<br />
    </td>
  </tr>
 
</table>
</body>
</html>