package com.banorte.reporte.UIF.transferencias.services.impl;

import java.io.BufferedWriter;
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FileWriter;
import java.io.PrintWriter;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.apache.log4j.Logger;

import com.banorte.reporte.UIF.transferencias.services.ITransferenciasService;
import com.banorte.reporte.UIF.transferencias.dao.IConsultaDao;
import com.banorte.reporte.UIF.transferencias.dto.DatosTransferenciaRecibida;
import com.banorte.reporte.UIF.transferencias.dto.MensajesVo;
import com.banorte.reporte.UIF.transferencias.services.IReporteService;
import com.banorte.reporte.UIF.transferencias.services.impl.TransferenciasServiceImpl;
import com.banorte.reporte.UIF.transferencias.services.mail.MailSender;
import com.banorte.reporte.UIF.transferencias.dto.DatosTransferencia;
import com.banorte.reporte.UIF.transferencias.services.mail.GeneralMailSender;
import com.banorte.reporte.UIF.transferencias.services.mail.impl.GeneralMailSenderImpl;

public class TransferenciasServiceImpl implements ITransferenciasService {
	
	private static final Logger LOG = Logger.getLogger(TransferenciasServiceImpl.class);
	
	private IConsultaDao consultaDao;
	private MailSender mailSender;
	private MensajesVo mensajesVo;
	private IReporteService reporteService;
	private GeneralMailSender generalMailSender;

	public GeneralMailSender getGeneralMailSender() {
		return generalMailSender;
	}

	public void setGeneralMailSender(GeneralMailSender generalMailSender) {
		this.generalMailSender = generalMailSender;
	}

	@Override
	public void consultarTransferenciasReporte() 
	{

		List<DatosTransferencia> transferencias = null;
		List<DatosTransferenciaRecibida> transferenciasRecibidas = null;
		List<DatosTransferenciaRecibida> datosOrdenantesNoReportados = null;
		
		Map<String, Object> datos = null;
		
		String pathReporte = consultaDao.consultarParametro(IConsultaDao.PARAMETRO_PATH_REPORTE);
		String emailsTo = consultaDao.consultarParametro(IConsultaDao.PARAMETRO_EMAILS_TO);
		
		boolean seTienenEmailsDestinatarios = true;
		boolean realizarConsultaTransferencias = true;
		
		if(emailsTo == null || "".equals(emailsTo.trim()))
		{
			seTienenEmailsDestinatarios = false;
			LOG.warn("--> " + mensajesVo.getMensajeErrorEmailsTo());
		}
		
		if(pathReporte == null || "".equals(pathReporte.trim()))
		{
			LOG.error("--> " + mensajesVo.getMensajeErrorPath());
			
			datos = new HashMap<String, Object>();
			datos.put("mensaje", mensajesVo.getMensajeErrorPathEmail());
			enviarEmail(seTienenEmailsDestinatarios, emailsTo, datos);
		}
		else
		{
			try
			{
				datos = new HashMap<String, Object>();
				datos.put("mensaje", mensajesVo.getMensajeInicioproceso());
				enviarEmail(seTienenEmailsDestinatarios, emailsTo, datos);
				
				consultaDao.ejecutarStoredProcedure();
			}
			catch(Exception e)
			{
				realizarConsultaTransferencias = false;
				LOG.error("-->" + mensajesVo.getMensajeErrorStoredProcedure(), e);
				datos = new HashMap<String, Object>();
				datos.put("mensaje", mensajesVo.getMensajeErrorStoredProcedure() +  e.getLocalizedMessage());
				enviarEmail(seTienenEmailsDestinatarios, emailsTo, datos);
			}
			
			try
			{
				if(realizarConsultaTransferencias)
				{
					transferencias = consultaDao.consultarTransferenciasReporte();
					transferenciasRecibidas = consultaDao.consultarTransferenciasReporteRecibidas();
					datosOrdenantesNoReportados = consultaDao.consultarDatosOrdenantesNoReportados();
					
					if(transferencias != null && transferencias.size() > 0)
					{
						//SimpleDateFormat d = new SimpleDateFormat("yyyyMMdd");
						SimpleDateFormat d = new SimpleDateFormat("yyyyMM");
						
						// construir archivo reporte -- excel
						//ByteArrayOutputStream baos = reporteService.crearReporteExcel(transferencias);
						LOG.warn("Registros encontrados: " + transferencias.size());
						
						// escribirlo en el directorio especificado en pathReporte
//						FileOutputStream fileOut = new FileOutputStream(pathReporte + File.separator + "SICA_TR_MENSUAL_" +
//								                   d.format(new Date()) + ".xls");
//
//						fileOut.write(baos.toByteArray());
//						fileOut.flush();
//			            fileOut.close();
//			            fileOut = null;
			            
			            //creamos archivo .txt
			            int indice = 0;
			            StringBuffer sb = new StringBuffer();
			            File f;
			            //f = new File(pathReporte + File.separator + d.format(new Date()) + "_enviadasTraExt" + ".txt");
			            f = new File(pathReporte + File.separator + "TR_SICA_ENVIO_" + d.format(new Date()) + ".txt");
				                   
			            FileWriter w = new FileWriter(f);
			            BufferedWriter bw = new BufferedWriter(w);
			            PrintWriter wr = new PrintWriter(bw);  
			            for (DatosTransferencia datosTransferencia : transferencias) {
			            	sb.append(datosTransferencia.getFecha().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getReferencia().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getDeal().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getFolioDetalle().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getNombreCorresponsal().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getNombreEntidadDestino().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getBicAba().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getDatosDestinatario().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getOperacionOrigen().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getOperacionDestino().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getInstrumentoMonetarioOrigen().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getMonedaOrigen().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getMontoInstrumentoOrigen().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getMensaje().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getTipoPersona().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getNombre().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getApellidoPaterno().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getApellidoMaterno().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getFechaNacimiento().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getCurp().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getRfc().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getPaisNacimiento().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getPaisNacionalidad().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getActividadEconomica().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getRazonSocial().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getFechaConstitucion().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getRfcPM().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getPaisNacionalidadPM().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getGiroMercantil().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getApoderadoLegal().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getDomicilioUnificado().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getCiudadPoblacion().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getCodigoPostal().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getEntidadFederativa().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getTelefono().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getNumeroTelefono().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getClavePais().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getExtension().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getCorreoElectronico().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getFiel());
			            	sb.append(datosTransferencia.getMontoUsdMayorIgual1000().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getPaisBancoBeneficiario().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ").
		  							replace("|", ""));
			            	sb.append("\n");			            	 
						}
			            wr.write(sb.toString());
			            wr.flush();
			            wr.close();
			            bw.close();

					}
					
					if(transferenciasRecibidas != null && transferenciasRecibidas.size() > 0)
					{
						SimpleDateFormat d = new SimpleDateFormat("yyyyMM");
						
						// construir archivo reporte -- excel
						//ByteArrayOutputStream baos = reporteService.crearReporteExcel(transferencias);
						LOG.warn("Registros encontrados: " + transferenciasRecibidas.size());
						
						// escribirlo en el directorio especificado en pathReporte
//						FileOutputStream fileOut = new FileOutputStream(pathReporte + File.separator + "SICA_TR_MENSUAL_" +
//								                   d.format(new Date()) + ".xls");
//
//						fileOut.write(baos.toByteArray());
//						fileOut.flush();
//			            fileOut.close();
//			            fileOut = null;
			            
			            //creamos archivo .txt
			            int indice = 0;
			            StringBuffer sb = new StringBuffer();
			            File f;
			            //f = new File(pathReporte + File.separator + d.format(new Date()) + "_recibidasTraExt" + ".txt");
			            f = new File(pathReporte + File.separator + "TR_SICA_RECIBIDOS_" + d.format(new Date()) + ".txt");
				                   
			            FileWriter w = new FileWriter(f);
			            BufferedWriter bw = new BufferedWriter(w);
			            PrintWriter wr = new PrintWriter(bw);  
			            for (DatosTransferenciaRecibida datosTransferencia : transferenciasRecibidas) {
			            	sb.append(datosTransferencia.getFecha().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getReferencia().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getDeal().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getFolioDetalle().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getNombreCorresponsal().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getNombreEntidadOrigen().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getBicAba().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getDatosOrdenante().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getOperacionOrigen().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getNombreEntidadDestino().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getDatosDestinatario().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getOperacionDestino().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getInstrumentoMonetarioDestino().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getMonedaDestino().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getMontoInstrumentoDestino().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getMensaje().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getTipoPersona().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getNombre().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getApellidoPaterno().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getApellidoMaterno().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getFechaNacimiento().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getCurp().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getRfc().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getPaisNacimiento().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getPaisNacionalidad().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getActividadEconomica().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getRazonSocial().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getFechaConstitucion().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getGiroMercantil().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getApoderadoLegal().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getDomicilioUnificado().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getCiudadPoblacion().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getCodigoPostal().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getTelefono().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getNumeroTelefono().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getClavePais().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getExtension().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getCorreoElectronico().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getFiel());
			            	sb.append(datosTransferencia.getMontoUsdMayorIgual1000().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ"));
			            	sb.append(datosTransferencia.getPaisClienteOriginador().replaceAll("Á","A").replaceAll("É","E").replaceAll("Í","I").replaceAll("Ó","O").replaceAll("Ú","U").replaceAll("á","a").replaceAll("é","e").replaceAll("í","i").replaceAll("ó","o").replaceAll("ú","u").replaceAll("¹","Ñ").replaceAll("¥","Ñ").
		  							replaceAll("´","").replaceAll("¿","").replaceAll(";"," ").replaceAll(":"," ").replaceAll("\\(","").replaceAll("\\)","").replaceAll("&","").replaceAll("/","").replaceAll("-","").replaceAll("Nº","No").replaceAll("#","No").replaceAll("'","").replaceAll("°","No").replaceAll("`","").replaceAll("Ã","A").
		  							replaceAll("Ô","O").replaceAll("Ç","C").replaceAll("Õ","O").replaceAll("Ï","I").replaceAll("¦"," ").replaceAll("¬","").replaceAll("!","").replaceAll("$","").replaceAll("%","").replaceAll("=","").replaceAll("'","").replaceAll("¡","").replaceAll("´´","").replaceAll("¨¨","").replaceAll("~","").replaceAll("\\{","").replaceAll("\\[","").
		  							replaceAll("^","").replaceAll("}","").replaceAll("]","").replaceAll("``","").replaceAll("Á","A").replaceAll("á","a").replaceAll("À","A").replaceAll("à","a").replaceAll("Â","A").replaceAll("â","a").replaceAll("Ã","A").replaceAll("ã","a").replaceAll("É","E").replaceAll("é","e").replaceAll("Ê","E").replaceAll("ê","e").
		  							replaceAll("Í","I").replaceAll("í","i").replaceAll("Ó","O").replaceAll("ó","o").replaceAll("Ô","O").replaceAll("ô","o").replaceAll("Õ","O").replaceAll("õ","o").replaceAll("Ö","O").replaceAll("Ú","U").replaceAll("ú","u").replaceAll("\\\\","").replaceAll("\\*","").replaceAll("\\+"," ").replaceAll("\\\"","").replaceAll("NULL","").replace("?","Ñ").
		  							replace("|", ""));
			            	sb.append("\n");			            	 
						}
			            wr.write(sb.toString());
			            wr.flush();
			            wr.close();
			            bw.close();
 
					}
					
					if(datosOrdenantesNoReportados != null && datosOrdenantesNoReportados.size() > 0)
					{
						SimpleDateFormat d = new SimpleDateFormat("yyyyMMdd");

						LOG.warn("Se encontraron ordenantes no reportados se creará archivo para reportarlos ");
						LOG.warn("Registros encontrados: " + transferenciasRecibidas.size());
			            
						// construir archivo reporte -- excel
						ByteArrayOutputStream baos = reporteService.crearReporteExcel(datosOrdenantesNoReportados);
						
						// escribirlo en el directorio especificado en pathReporte
						FileOutputStream fileOut = new FileOutputStream(pathReporte + File.separator + "ordenantesNoReportados" +
								                   d.format(new Date()) + ".xls");

						fileOut.write(baos.toByteArray());
						fileOut.flush();
			            fileOut.close();
			            fileOut = null;
						
			            //enviamos archivo excel
						LOG.warn("Enviando Email con la lista de ordenantes NO reportados -->" );
						
						generalMailSender.enviarMail(
		                        "Lista de Ordenantes no reportados", "\n",
		                        "ordenantesNoReportados20130411.xls", "application/vnd.ms-excel",baos.toByteArray());
		                        //bytes);

					}
					
					else
					{
						LOG.warn("*** No existen ordenantes sin reportar ***");
					}


				}
				consultaDao.actualizaBanderaEnvUIF();
				consultaDao.actualizaBanderaEnvUIFRec();
				
			}
			catch(Exception e)
			{
				LOG.error("-->" + mensajesVo.getMensajeErrorTransferencias(), e);
				datos = new HashMap<String, Object>();
				datos.put("mensaje", mensajesVo.getMensajeErrorTransferencias() +  e.getLocalizedMessage());
				enviarEmail(seTienenEmailsDestinatarios, emailsTo, datos);
				//se borran registros que no se reportaron a la UIF para que no se dupliquen
				consultaDao.borrarOperacionesNoReportadas();
				consultaDao.borrarOperacionesNoReportadasRec();
			}
			
			LOG.warn("-->" + mensajesVo.getMensajeFinProceso());
			datos = new HashMap<String, Object>();
			datos.put("mensaje", mensajesVo.getMensajeFinProceso());
			enviarEmail(seTienenEmailsDestinatarios, emailsTo, datos);
		}
	

	}

	public void enviarEmail(boolean seTienenEmailsDestinatarios, String emailsTo, Map<String, Object> datos)
	{
		if(seTienenEmailsDestinatarios)
		{
			mailSender.setTo(emailsTo);
			mailSender.send(datos);
		}
	}

	public IConsultaDao getConsultaDao() 
	{ 
		return consultaDao; 
	}
	
	public void setConsultaDao(IConsultaDao consultaDao) 
	{ 
		this.consultaDao = consultaDao; 
	}

	public MailSender getMailSender() 
	{
		return mailSender; 
	}
	
	public void setMailSender(MailSender mailSender) 
	{ 
		this.mailSender = mailSender; 
	}

	public MensajesVo getMensajesVo() 
	{ 
		return mensajesVo;
	}
	
	public void setMensajesVo(MensajesVo mensajesVo) 
	{ 
		this.mensajesVo = mensajesVo;
	}

	public IReporteService getReporteService() 
	{
		return reporteService;
	}

	public void setReporteService(IReporteService reporteService) 
	{
		this.reporteService = reporteService;
	}
}
